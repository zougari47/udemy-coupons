---
import {
  BadgeDollarSign,
  Hourglass,
  LayoutDashboard,
  MonitorPlay,
  User,
  Users,
} from '@lucide/astro';
import type { Course } from '@/types';

interface Props {
  course: Course;
}

const { course } = Astro.props;

const iconsSize = 36;
const statistics = [
  {
    icon: LayoutDashboard,
    text: course.category,
    title: 'category',
  },
  {
    icon: Users,
    text: `${course.views} students`,
    title: 'Students',
  },
  {
    icon: MonitorPlay,
    text: `${course.lectures} lectures`,
    title: 'Lectures',
  },
  // {
  //   icon: User,
  //   text: `By Instructor`,
  //   title: 'Instructor',
  // },
  {
    icon: Hourglass,
    text: course.sale_start,
    title: 'Expired time',
  },
  {
    icon: BadgeDollarSign,
    text: `$${course.price}`,
    title: 'price',
  },
];
---

<section>
  <div class='overflow-hidden rounded shadow-sm'>
    <img
      class='block rounded'
      src={course.image}
      width={750}
      height={422}
      alt={course.name}
    />
  </div>
  <h1 class='mt-2 mb-4 text-4xl font-semibold'>{course.name}</h1>

  <!-- <div>{course.rating}</div> -->

  <table class='mb-6'>
    <tbody>
      {
        statistics.map((item) => (
          <tr title={item.title}>
            <td class='w-1/4 py-3'>
              <item.icon size={iconsSize} />
            </td>
            <td>
              <span class={item.title === 'price' ? 'line-through' : ''}>
                {item.text}
              </span>
              {item.title === 'price' && <span class='pl-2 text-xl'>$0</span>}
            </td>
          </tr>
        ))
      }
    </tbody>
  </table>

  <div class='prose text-foreground mb-6' set:html={course.content} />
</section>
